<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Radio Super A1 - La Radio Poder de Tarma, Per√∫</title>
    <meta name="description" content="Escucha Radio Super A1 en vivo las 24 horas. M√∫sica, cultura y entretenimiento de Tarma, Per√∫. Transmisi√≥n de alta calidad y ultra r√°pida.">
    
    <!-- Open Graph para redes sociales -->
    <meta property="og:title" content="Radio Super A1 - En Vivo las 24 Horas">
    <meta property="og:description" content="Escucha Radio Super A1 en vivo las 24 horas. M√∫sica, cultura y entretenimiento desde Tarma, Per√∫.">
    <meta property="og:image" content="https://radiosupera1.netlify.app/social-share.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://radiosupera1.netlify.app/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="es_PE">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Radio Super A1 - En Vivo las 24 Horas">
    <meta name="twitter:description" content="Escucha Radio Super A1 en vivo las 24 horas. M√∫sica, cultura y entretenimiento desde Tarma, Per√∫.">
    <meta name="twitter:image" content="https://radiosupera1.netlify.app/social-share.png">
    
    <!-- Metaetiquetas espec√≠ficas para Bing -->
    <meta name="msvalidate.01" content="TU-C√ìDIGO-DE-VERIFICACI√ìN-DE-BING" />
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="theme-color" content="#00ff66">
    
    <!-- Microdatos estructurados para estaci√≥n de radio -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RadioStation",
      "name": "Radio Super A1",
      "description": "La Radio Poder de Tarma, Per√∫. M√∫sica, cultura y entretenimiento 24 horas.",
      "url": "https://radiosupera1.netlify.app/",
      "broadcastFrequency": "FM",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Tarma",
        "addressRegion": "Jun√≠n",
        "addressCountry": "Per√∫"
      },
      "sameAs": [
        "https://www.facebook.com/radiosupera1",
        "https://www.youtube.com/@radiosupera1"
      ]
    }
    </script>
    
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Pre-conexi√≥n al servidor de streaming para reducir la latencia -->
    <link rel="preconnect" href="https://stream.zeno.fm">
    <link rel="dns-prefetch" href="https://stream.zeno.fm">
    
    <style>
        /* ==========================================
           ESTILOS ORIGINALES DE LA P√ÅGINA SIMPLE (PRESERVADOS)
           ========================================== */
        *{margin:0;padding:0;box-sizing:border-box}
        html, body {
            height: 100%;
            width: 100%;
            scroll-behavior: smooth;
        }
        body{
            font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
            background-color: #1a1a1a;
            background-image: url('./images/portada.webp');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            color:#fff;
            text-align:center;
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            padding: 20px;
            min-height: 100vh;
            /* Mejora para reducir la pintura en m√≥viles */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        header{
            background:rgba(0,0,0,0.55);
            padding:10px 20px;
            border-radius:15px;
            margin-bottom:15px;
            backdrop-filter: blur(5px);
        }
        h1{font-size:2.2em;margin-bottom:5px}
        .social{
            display:flex;
            justify-content:center;
            gap:15px;
            margin-top:20px;
        }
        .social a{
            border-radius:50%;
            padding:8px;
            display:flex;
            align-items:center;
            justify-content:center;
            width:45px;
            height:45px;
            transition:transform .2s;
        }
        .social a:hover{transform:scale(1.1)}
        .social img{width:26px;height:26px}
        .facebook{background:#1877f2}
        .whatsapp{background:#25d366}
        .youtube{background:#ff0000}
        .share{
            margin-top:25px;
            background:#ffffffcc;
            color:#000;
            border:none;
            border-radius:25px;
            padding:10px 22px;
            cursor:pointer;
            font-weight:600;
            transition:background .3s;
        }
        .share:hover{background:#fff}
        footer{
            margin-top:25px;
            font-size:.85em;
            text-shadow:1px 1px 3px #000;
        }
        @media(max-width:600px){
            h1{font-size:1.6em}
        }

        /* ==========================================
           NUEVO: ESTILO CONTUNDENTE PARA EL ENCABEZADO
           ========================================== */
        header h1 {
            font-size: 2.2em; /* Tama√±o original */
            font-weight: 900; /* M√°xima negritas posible */
            text-transform: uppercase; /* May√∫sculas para m√°ximo impacto */
            letter-spacing: 2px; /* Espaciado entre letras */
            color: #fff; /* Mantiene el color blanco */
            text-shadow: 1px 1px 3px #000; /* Sombra sutil para legibilidad */
        }

        header p {
            font-size: 1em; /* Un poco m√°s grande que el por defecto */
            font-weight: 900; /* M√°xima negritas posible */
            text-transform: uppercase; /* May√∫sculas para consistencia */
            letter-spacing: 1.5px; /* Espaciado entre letras */
            color: #fff; /* Mantiene el color blanco */
            text-shadow: 1px 1px 3px #000; /* Sombra sutil para legibilidad */
        }

        /* Ajuste para que no sea demasiado grande en m√≥viles */
        @media(max-width: 600px){
            header h1 {
                font-size: 1.6em; /* Tama√±o original para m√≥vil */
                letter-spacing: 1px;
            }
            header p {
                font-size: 0.9em;
                letter-spacing: 1px;
            }
        }

        /* ==========================================
           VARIABLES Y ESTILOS DEL REPRODUCTOR (ULTRA LIGERO Y CENTRADO)
           ========================================== */
        :root {
            --neon-green: #00ff66;
            --neon-cyan: #00ffff;
        }

        /* CONTENEDOR PRINCIPAL (TOTALMENTE TRANSPARENTE) */
        .industrial-player-container {
            background: transparent;
            border: none;
            box-shadow: none;
            border-radius: 0;
            padding: 1.5rem;
            position: relative;
            overflow: visible;
            width: 85%;
            max-width: 400px; /* Reducido al no tener ecualizador */
            min-width: 320px;
        }

        /* REPRODUCTOR NEON (CENTRADO Y SIN ESPACIO EXTRA) */
        .neon-player {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            overflow: visible;
            /* CORRECCI√ìN: Centrado perfecto de los elementos restantes */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px; /* Altura reducida */
        }

        @media (max-width: 480px) {
            .neon-player { padding: 1rem; min-height: 180px; }
        }

        .neon-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 255, 102, 0.15) 0%, transparent 70%);
            filter: blur(20px);
            z-index: 1;
            animation: pulseGlow 4s ease-in-out infinite;
        }
        .neon-glow-2 {
            width: 60%; height: 60%;
            animation-delay: 2s; filter: blur(30px); opacity: 0.5;
        }
        @keyframes pulseGlow { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.6; } }

        .player-core {
            position: relative; z-index: 2;
            display: flex; flex-direction: column; align-items: center; gap: 1.5rem;
        }
        
        /* BOT√ìN NEON */
        .neon-play-btn {
            width: 100px; height: 100px;
            border-radius: 50%;
            background: rgba(0, 30, 15, 0.8);
            border: 3px solid var(--neon-green);
            cursor: pointer; display: grid; place-items: center;
            position: relative; transition: all 0.3s ease; z-index: 10;
            box-shadow: 
                0 0 30px rgba(0, 255, 102, 0.4),
                inset 0 0 20px rgba(0, 255, 102, 0.1);
        }
        @media (max-width: 480px) {
            .neon-play-btn { width: 80px; height: 80px; }
        }

        .neon-play-btn:hover {
            transform: scale(1.05);
            box-shadow: 
                0 0 40px rgba(0, 255, 102, 0.6),
                inset 0 0 30px rgba(0, 255, 102, 0.3),
                border-color: var(--neon-cyan);
        }
        .neon-play-btn:active { transform: scale(0.95); }
        .neon-play-btn.playing {
            background: rgba(0, 255, 102, 0.1);
            box-shadow: 
                0 0 50px rgba(0, 255, 102, 0.6),
                inset 0 0 30px rgba(0, 255, 102, 0.3);
            animation: buttonPulse 2s ease-in-out infinite;
        }
        @keyframes buttonPulse { 0%, 100% { box-shadow: 0 0 50px rgba(0, 255, 102, 0.6); } 50% { box-shadow: 0 0 70px rgba(0, 255, 102, 0.8); } }

        .neon-btn-inner {
            width: 60%; height: 60%; display: grid; place-items: center;
            color: var(--neon-green); position: relative; z-index: 2;
        }

        .ripple-effect {
            position: absolute; border: 2px solid var(--neon-green); border-radius: 50%;
            width: 100%; height: 100%; opacity: 0;
            animation: ripple 3s linear infinite;
        }
        .ripple-2 { animation-delay: 1.5s; }
        @keyframes ripple { 0% { transform: scale(1); opacity: 0.8; } 100% { transform: scale(1.5); opacity: 0; } }

        /* INDICADOR EN VIVO (INTENSIFICADO) */
        .live-indicator {
            display: flex; align-items: center; gap: 0.8rem;
            padding: 0.5rem 1rem; background: rgba(255, 0, 0, 0.5);
            border: 1px solid rgba(255, 0, 0, 0.8);
            border-radius: 50px;
            position: relative; overflow: hidden;
        }
        .live-dot {
            width: 10px; height: 10px; background: #ff0000; border-radius: 50%;
            animation: livePulse 1.5s ease-in-out infinite; 
            box-shadow: 0 0 15px #ff0000, 0 0 25px #ff3333;
        }
        @keyframes livePulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.1); } }
        .live-text {
            color: #ffffff;
            font-weight: 800;
            font-size: 0.85rem;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-shadow: 
                0 0 10px #ff0000, 
                0 0 20px #ff0000,
                0 0 30px #ff3333;
        }

        /* PANEL DE CONTROL (CON RELOJ) */
        .player-controls-panel {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 1.5rem;
            padding: 1rem;
            background: transparent;
            border: none;
            border-radius: 0;
        }

        .current-time-display {
            display: flex;
            flex-direction: column; /* 1. Dispone los elementos en columna */
            align-items: center;    /* 2. Centra todo verticalmente */
            gap: 0.5rem;           /* 3. Espacio entre el texto y la hora */
            padding: 1rem 1.2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 102, 0.1);
        }

        /* Nuevo contenedor para el √≠cono y la hora */
        .time-and-icon {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .current-time-display i { color: var(--neon-green); }

        #currentTime {
            font-family: 'Courier New', monospace;
            /* TAMA√ëO DUPLICADO: De 1.1rem a 2.2rem */
            font-size: 2.2rem; 
            color: var(--neon-green);
            font-weight: 700;
        }

        .time-label {
            color: rgba(0, 255, 102, 0.7);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            /* ESTILO NEGRITA A√ëADIDO */
            font-weight: bold;
        }

        /* Ajuste para m√≥viles para que no sea demasiado grande */
        @media (max-width: 480px) {
            .current-time-display { padding: 0.8rem 1rem; }
            /* TAMA√ëO DUPLICADO en m√≥vil: De 1rem a 2rem */
            #currentTime { font-size: 2rem; }
            .time-label { font-size: 0.8rem; }
        }

        /* PANEL DE ALERTAS */
        .alert-panel {
            position: fixed; bottom: 2rem; left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(90deg, rgba(0, 40, 20, 0.95), rgba(0, 60, 30, 0.95));
            border: 1px solid #00ff66; border-radius: 12px;
            padding: 0.8rem 1.2rem; display: flex; align-items: center;
            justify-content: space-between; gap: 1.5rem; min-width: 300px;
            max-width: 90vw;
            z-index: 10000; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 30px rgba(0, 255, 102, 0.3);
            opacity: 0; transition: all 0.4s ease;
        }
        @media (max-width: 480px) {
            .alert-panel { bottom: 1rem; padding: 0.6rem 1rem; min-width: auto; width: calc(100% - 2rem); }
        }
        .alert-panel.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        .alert-content { display: flex; align-items: center; gap: 1rem; flex: 1; }
        .alert-content i { color: #00ff66; font-size: 1.5rem; }
        #alertMessage { color: white; font-size: 0.9rem; font-weight: 500; }

        .alert-close {
            background: none; border: none; color: rgba(255, 255, 255, 0.5);
            font-size: 1.5rem; cursor: pointer; padding: 0.2rem;
            transition: color 0.3s ease;
        }
        .alert-close:hover { color: #00ff66; }
        
        /* AUTOPLAY OVERLAY */
        .autoplay-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s, visibility 0.5s;
        }
        
        .autoplay-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        .autoplay-content {
            background: linear-gradient(135deg, rgba(10, 25, 41, 0.98), rgba(5, 15, 25, 1));
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(0, 255, 102, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            max-width: 400px;
            width: 90%;
        }
        
        .autoplay-title {
            color: var(--neon-green);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .autoplay-text {
            color: #fff;
            margin-bottom: 1.5rem;
        }
        
        .autoplay-btn {
            background: rgba(0, 255, 102, 0.2);
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .autoplay-btn:hover {
            background: rgba(0, 255, 102, 0.3);
            transform: scale(1.05);
        }

        /* ==========================================
           NUEVO: IDENTIDAD DE UBICACI√ìN EN FOOTER
           ========================================== */
        .location-identity {
            margin-top: 10px; /* Espacio superior para separar del copyright */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1.2rem; /* Tama√±o contundente */
            font-weight: 900; /* M√°xima negritas posible */
            text-transform: uppercase; /* May√∫sculas para m√°ximo impacto */
            letter-spacing: 3px; /* Espaciado entre letras para dar amplitud y fuerza */
            color: var(--neon-green); /* Color ne√≥n principal de la marca */
            
            /* Efecto de brillo ne√≥n para que resalte */
            text-shadow: 
                0 0 10px var(--neon-green), 
                0 0 20px var(--neon-green),
                0 0 30px rgba(0, 255, 102, 0.5);
        }

        /* Ajuste para que no sea demasiado grande en pantallas peque√±as */
        @media (max-width: 600px) {
            .location-identity {
                font-size: 1rem; /* Tama√±o reducido para m√≥viles */
                letter-spacing: 2px;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>üéµ Radio Super A1 üé∂</h1>
        <p>De Reymundo Zurita Jes√∫s</p>
    </header>

    <!-- REPRODUCTOR OPTIMIZADO Y ROBUSTO -->
    <div class="industrial-player-container">
        <div class="neon-player" id="neonPlayer">
            <div class="neon-glow"></div>
            <div class="neon-glow neon-glow-2"></div>
            
            <div class="player-core">
                <button class="neon-play-btn" id="neonPlayBtn" aria-label="Reproducir/Pausar">
                    <div class="neon-btn-inner">
                        <svg class="play-icon" width="28" height="28" viewBox="0 0 24 24">
                            <path d="M8 5v14l11-7z" fill="currentColor"/>
                        </svg>
                        <svg class="pause-icon" width="28" height="28" viewBox="0 0 24 24" style="display: none;">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" fill="currentColor"/>
                        </svg>
                    </div>
                    
                    <div class="ripple-effect"></div>
                    <div class="ripple-effect ripple-2"></div>
                </button>
                
                <div class="live-indicator" id="liveIndicator" style="display: none;">
                    <div class="live-dot"></div>
                    <span class="live-text">EN VIVO</span>
                </div>
            </div>
        </div>
        
        <!-- PANEL DE CONTROL CON RELOJ - ACTUALIZADO -->
        <div class="player-controls-panel">
            <div class="current-time-display">
                <span class="time-label">HORA ACTUAL:</span>
                <div class="time-and-icon">
                    <i class="fas fa-clock"></i>
                    <span id="currentTime">00:00:00</span>
                </div>
            </div>
        </div>
        
        <!-- ELIMINADO: Indicador de calidad de conexi√≥n -->
        
        <div class="alert-panel" id="alertPanel">
            <div class="alert-content">
                <i class="fas fa-info-circle"></i>
                <span id="alertMessage">Sistema de audio inicializado</span>
            </div>
            <button class="alert-close" id="alertClose">&times;</button>
        </div>
    </div>

    <div class="social">
        <a href="https://www.facebook.com/radiosupera1" target="_blank" class="facebook" title="Facebook">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook">
        </a>
        <a href="https://wa.me/51964658275?text=Hola%20Radio%20Super%20A1%20üëã%20quiero%20escuchar%20la%20radio%20en%20vivo!" target="_blank" class="whatsapp" title="WhatsApp">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp">
        </a>
        <a href="https://www.youtube.com/@radiosupera1" target="_blank" class="youtube" title="YouTube">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube">
        </a>
    </div>
    
    <button class="share" onclick="shareSite()">üì¢ Compartir</button>
    
    <footer>
        ¬© 2026 Radio Super A1 de Reymundo Zurita Jes√∫s | Todos los derechos reservados
        <div class="location-identity">TARMA - PER√ö</div>
    </footer>
    
    <!-- AUTOPLAY OVERLAY -->
    <div class="autoplay-overlay" id="autoplayOverlay">
        <div class="autoplay-content">
            <h2 class="autoplay-title">üéµ Radio Super A1</h2>
            <p class="autoplay-text">Haz clic para comenzar a escuchar la mejor m√∫sica en vivo</p>
            <button class="autoplay-btn" id="autoplayBtn">ESCUCHAR AHORA</button>
        </div>
    </div>

    <!-- SCRIPT DEL REPRODUCTOR (ROBUSTO Y SIN VISUALIZADOR) -->
    <script>
        // ==========================================
        // REPRODUCTOR NEON VERDE - VERSI√ìN 8.1 (INDICADOR DE CALIDAD OCULTO)
        // ==========================================

        class NeonRadioPlayer {
            constructor() {
                this.audio = null;
                this.isPlaying = false;
                this.originalSrc = 'https://stream.zeno.fm/zignjhagmspuv';
                this.reconnectAttempts = 0;
                this.maxReconnectAttempts = 5;
                this.reconnectDelay = 2000; // 2 segundos
                
                this.init();
            }

            init() {
                console.log("üéß Inicializando Radio Super A1 Player v8.1 (Optimizado y Limpio)...");
                
                this.createAudioElement();
                this.bindEvents();
                this.startClock();
                this.attemptMutedAutoplay();
                this.bindKeyboardShortcuts();
                // La funci√≥n de verificaci√≥n de calidad se mantiene internamente pero no se inicia visualmente
                
                console.log("‚úÖ Reproductor listo.");
            }

            createAudioElement() {
                this.audio = new Audio();
                this.audio.volume = 1.0;
                this.audio.preload = "metadata"; 
                this.audio.crossOrigin = "anonymous";
                this.audio.src = this.originalSrc;

                // Mejora: A√±adir m√°s eventos para una mejor compatibilidad
                this.audio.addEventListener('stalled', () => this.handleStreamIssue('stalled'));
                this.audio.addEventListener('error', (e) => this.handleStreamIssue('error', e));
                
                // Eventos espec√≠ficos para mejorar la compatibilidad con Bing
                this.audio.addEventListener('loadeddata', () => {
                    console.log("Metadatos cargados correctamente");
                });
                
                this.audio.addEventListener('playing', () => {
                    this.reconnectAttempts = 0; // Resetear contador al reproducir
                });
            }

            // CORRECCI√ìN: L√≥gica de reconexi√≥n autom√°tica mejorada
            handleStreamIssue(type, event = null) {
                if (!this.isPlaying) return; // No intentar reconectar si est√° en pausa

                console.warn(`Stream issue detected: ${type}`);
                this.reconnectAttempts++;
                
                if (this.reconnectAttempts <= this.maxReconnectAttempts) {
                    this.showAlert(`Interrupci√≥n detectada. Reintentando conectar (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`, "warning");
                    this.scheduleReconnect();
                } else {
                    this.showAlert("La conexi√≥n no pudo ser restablecida despu√©s de varios intentos. Por favor, recarga la p√°gina.", "error");
                    this.pause(); // Detener todo
                }
            }

            scheduleReconnect() {
                // CORRECCI√ìN: Estrategia de exponential backoff
                const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1);
                setTimeout(() => this.forceReconnect(), Math.min(delay, 30000)); // M√°ximo 30s
            }

            forceReconnect() {
                // CORRECCI√ìN: Limpieza de cache (cache-busting)
                const cacheBuster = `?t=${Date.now()}`;
                this.audio.src = this.originalSrc + cacheBuster;
                this.audio.load(); // Forzar la recarga
            }

            bindEvents() {
                const playBtn = document.getElementById('neonPlayBtn');
                if (playBtn) {
                    playBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.togglePlay();
                    });
                }
                
                const alertClose = document.getElementById('alertClose');
                if (alertClose) {
                    alertClose.addEventListener('click', () => this.hideAlert());
                }
                
                const autoplayBtn = document.getElementById('autoplayBtn');
                if (autoplayBtn) {
                    autoplayBtn.addEventListener('click', () => {
                        this.hideAutoplayOverlay();
                        this.play();
                    });
                }

                // Mejora: A√±adir evento de toque para m√≥viles
                document.addEventListener('touchstart', () => {
                    if (this.audio.muted && !this.isPlaying) {
                        this.audio.muted = false;
                        this.isPlaying = true;
                        this.updateUI();
                        this.hideAutoplayOverlay();
                        this.showAlert("Audio activado. ¬°Disfruta la m√∫sica!", "success");
                    }
                }, { once: true });
                
                // Mantener el evento de clic para escritorio
                document.addEventListener('click', () => {
                    if (this.audio.muted && !this.isPlaying) {
                        this.audio.muted = false;
                        this.isPlaying = true;
                        this.updateUI();
                        this.hideAutoplayOverlay();
                        this.showAlert("Audio activado. ¬°Disfruta la m√∫sica!", "success");
                    }
                }, { once: true });
            }
            
            bindKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    if (e.code === 'Space' && e.target.tagName !== 'INPUT') {
                        e.preventDefault();
                        this.togglePlay();
                    }
                });
            }

            async attemptMutedAutoplay() {
                try {
                    // Mejora: Intentar diferentes estrategias de autoplay
                    this.audio.muted = true;
                    
                    // Primero intentar autoplay sin restricciones
                    const playPromise = this.audio.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            this.isPlaying = true;
                            this.updateUI();
                            this.showAlert("Reproduciendo en silencio. Haz clic en cualquier parte para activar el sonido.", "info");
                        }).catch(error => {
                            console.log("Autoplay bloqueado, intentando con muted autoplay");
                            // Si falla, mostrar overlay
                            this.showAutoplayOverlay();
                        });
                    }
                } catch (error) {
                    console.log("Autoplay silenciado bloqueado, esperando interacci√≥n del usuario.");
                    this.showAutoplayOverlay();
                }
            }

            showAutoplayOverlay() {
                const overlay = document.getElementById('autoplayOverlay');
                if (overlay) {
                    setTimeout(() => overlay.classList.add('show'), 500);
                }
            }

            hideAutoplayOverlay() {
                const overlay = document.getElementById('autoplayOverlay');
                if (overlay) {
                    overlay.classList.remove('show');
                }
            }

            async togglePlay() {
                if (this.isPlaying) {
                    this.pause();
                } else {
                    await this.play();
                }
            }

            async play() {
                try {
                    this.audio.muted = false;
                    this.showAlert("Conectando a la transmisi√≥n...", "info");
                    
                    // Mejora: A√±adir timeout para evitar esperas infinitas
                    const playPromise = this.audio.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            this.isPlaying = true;
                            this.updateUI();
                            this.showAlert("¬°Conectado! Transmisi√≥n en vivo activa", "success");
                            
                            if ("vibrate" in navigator) {
                                navigator.vibrate(50);
                            }
                        }).catch(error => {
                            console.error("Error al reproducir:", error);
                            this.showAlert("No se pudo conectar. Intenta de nuevo en unos momentos.", "error");
                        });
                    }
                    
                } catch (error) {
                    console.error("Error al reproducir:", error);
                    this.showAlert("No se pudo conectar. Intenta de nuevo en unos momentos.", "error");
                }
            }

            pause() {
                if (this.audio) {
                    this.audio.pause();
                }
                
                this.isPlaying = false;
                this.updateUI();
                this.showAlert("Transmisi√≥n en pausa", "warning");
            }

            updateUI() {
                const playBtn = document.getElementById('neonPlayBtn');
                if (playBtn) {
                    playBtn.classList.toggle('playing', this.isPlaying);
                    
                    const playIcon = playBtn.querySelector('.play-icon');
                    const pauseIcon = playBtn.querySelector('.pause-icon');
                    
                    if (playIcon && pauseIcon) {
                        playIcon.style.display = this.isPlaying ? 'none' : 'block';
                        pauseIcon.style.display = this.isPlaying ? 'block' : 'none';
                    }
                }
                
                const liveIndicator = document.getElementById('liveIndicator');
                if (liveIndicator) {
                    liveIndicator.style.display = this.isPlaying ? 'flex' : 'none';
                }
            }

            startClock() {
                setInterval(() => {
                    const now = new Date();
                    const hours = now.getHours().toString().padStart(2, '0');
                    const minutes = now.getMinutes().toString().padStart(2, '0');
                    const seconds = now.getSeconds().toString().padStart(2, '0');
                    
                    const timeEl = document.getElementById('currentTime');
                    if (timeEl) {
                        timeEl.textContent = `${hours}:${minutes}:${seconds}`;
                    }
                }, 1000);
            }

            showAlert(message, type = "info") {
                const alertPanel = document.getElementById('alertPanel');
                const alertMessage = document.getElementById('alertMessage');
                
                if (!alertPanel || !alertMessage) return;
                
                const colors = {
                    info: '#00ff66',
                    success: '#00ff66',
                    warning: '#ffaa00',
                    error: '#ff3333'
                };
                
                alertPanel.style.borderColor = colors[type] || colors.info;
                alertMessage.textContent = message;
                
                alertPanel.classList.add('show');
                
                clearTimeout(this.alertTimeout);
                this.alertTimeout = setTimeout(() => {
                    this.hideAlert();
                }, 5000);
            }

            hideAlert() {
                const alertPanel = document.getElementById('alertPanel');
                if (alertPanel) {
                    alertPanel.classList.remove('show');
                }
            }
        }

        // ==========================================
        // FUNCIONES GLOBALES
        // ==========================================
        function shareSite() {
            if (navigator.share) {
                navigator.share({
                    title: 'Radio Super A1 - La Radio Poder de Tarma, Per√∫',
                    text: 'Escucha Radio Super A1 en vivo las 24 horas. M√∫sica, cultura y entretenimiento de Tarma, Per√∫. Transmisi√≥n de alta calidad y ultra r√°pida.',
                    url: 'https://radiosupera1.pe/'
                });
            } else {
                alert('Tu navegador no soporta compartir. Copia el enlace: https://radiosupera1.pe/');
            }
        }

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {
            window.radioPlayer = new NeonRadioPlayer();
            
            // NUEVO: Verificar si el navegador es compatible con todas las caracter√≠sticas
            if (!window.AudioContext && !window.webkitAudioContext) {
                console.warn("Tu navegador podr√≠a no ser totalmente compatible con todas las caracter√≠sticas de audio.");
            }
            
            // NUEVO: Optimizaci√≥n para m√≥viles - prevenir zoom al hacer doble clic
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
    </script>
</body>
</html>
